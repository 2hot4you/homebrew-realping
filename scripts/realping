#!/bin/bash

# realping: æŸ¥è¯¢åŸŸåçœŸå® IP å¹¶æµ‹è¯• Ping å»¶è¿Ÿï¼ˆç»•è¿‡ DNS åŠ«æŒï¼‰

if [ -z "$1" ]; then
    echo "Usage: realping <domain>"
    exit 1
fi

DOMAIN="$1"
REAL_IP=$(dig "$DOMAIN" @8.8.8.8 +short | grep -Eo '([0-9]{1,3}\.){3}[0-9]{1,3}' | head -n1)

if [ -z "$REAL_IP" ]; then
    echo "âŒ Failed to resolve $DOMAIN"
    exit 1
fi

echo "ğŸ¯ Pinging $DOMAIN ($REAL_IP)..."
ping "$REAL_IP"